# 쉽고 빠르게 익히는 실전 LLM - 1회

## Chapter 04. 맞춤형 파인튜닝으로 LLM을 최적화하기

데이터셋 내 완성 토큰에 대해, 분류 레이블 앞에는 시작 공백이 있어야 함

- 이렇게 하면 모델이 새 토큰을 생성해야 한다는 것을 이해할 수 있음

모델을 파인튜닝하는 과정에서 프롬프트를 준비할 때, 몇 가지 예시(퓨샷)를 포함할 필요 없음

- 모델은 이미 특정 작업에 대한 데이터로 파인튜닝되었기 때문
- 대신 데이터(리뷰 텍스트 등)와 필요한 모든 맥락을 포함한 프롬프트를 제공한 후, 원하는 출력 형식을 나타내는 접미사(예: 뒤에 공백이 없는 'Sentiment:' 또는 '\n\n###\n\n'
- 프롬프트는 가능한 짧아야 함

## Chapter 05. 고급 프롬프트 엔지니어링

프롬프트 인젝션 공격 방지

- 너무 짧은 프롬프트를 피합니다. 이러한 프롬프트는 공격당할 가능성이 더 크기 때문입니다. 프롬프트가 길수록 파악하기 어렵습니다.
- 공격자가 추측하기 어려운 독특하기 복잡한 프롬프트 구조를 사용합니다. 이에는 특정 도메인 지식을 통합하는 것이 포함될 수 있습니다.
- 입력/출력 유효성 검사 기술을 사용하여 공격 패턴의 가능성을 LLM에 도달하기 전에 필터링하고, 후처리 단계에서 민감한 정보를 포함한 답변을 필터링합니다.
- 공격자에 의해 발견되고 활용될 가능성을 줄이기 위해 프롬프트를 정기적으로 업데이트하고 수정합니다. 프롬프트가 동적이고 계속 변할 때, 승인되지 않은 사용자가 애플리케이션에서 사용된 특정 패턴을 리버스 엔지니어링하기가 더 어려워집니다.
- json이나 yaml 같은 특정 방식으로 LLM의 출력 형식을 지정
- 특정 유형의 작업에 프롬프트가 필요하지 않게 LLM을 파인튜닝
- 프롬프트 체이닝

프롬프트 스터핑

- 사용자가 프롬프트에 너무 많은 정보를 제공하여 LLM의 출력이 혼란스럽거나 관련 없게 될 때
- 프롬프트에 여러 작업이나 예시를 포함시킬 때 종종 이러한 상황 발생하는데, 이로 인해 LLM이 과부하 상태가 되어 부정확한 결과가 나올 수 있음
- 예) 데이터베이스를 쿼리하기 위한 SQL문을 LLM에 출력하도록 요청한다 가정. 데이터베이스의 구조와 자연어 쿼리를 고려할 때, 우리가 많은 테이블과 필드를 가진 거대한 데이터베이스를 가지고 있는 경우 그 요청은 입력 한도에 빠르게 도달할 것

프롬프트 스터핑 문제를 피하기 위한 전략

- 프롬프트는 간결하고 구체적이어야 하며 LLM에 필요한 정보만 포함해야 함
  - 이렇게 하면 LLM은 특정 작업에 집중하여 원하는 모든 사항을 다루는 것보다 더 정확한 결과를 생성할 수 있음

## Chapter 08. 고급 오픈 소스 LLM 파인 튜닝

