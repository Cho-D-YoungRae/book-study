# 8.9 유니크 인덱스

- 인덱스라기보다는 제약 조건에 가까움
- NULL도 저장 가능
  - NULL은 특정 값이 아니므로 2개 이상 저장 가능
- 프라이머리 키는 기본적으로 NULL을 허용하지 않는 유니크 속성이 자동으로 부여

## 8.9.1 유니크 인덱스와 일반 세컨더리 인덱스의 비교

- 인덱스의 구조상 아무런 차이점 없음

### 8.9.1.1 인덱스 읽기

- 유니크 인덱스는 1건만 읽으면 되지만 세컨더리 인덱스에서는 레코드를 한 건 더 읽어야 함
  - 디스크 읽기가 아니라 CPU에서 칼럼값을 비교하는 작업이므로 성능상 영향 거의 없음
- 세컨더리 인덱스는 중복된 값이 허용되므로 읽어야 할 레코드가 많아서 느린 것이지, 인덱스 자체의 특성 때문에 느린 것이 아님

### 8.9.1.2 인덱스 쓰기

> 유니크 인덱스는 일반 세컨더리 인덱스보다 변경 작업이 더 느리게 작동

- 유니크 인덱스의 키 값을 쓸 때는 중복된 값이 있는지 없는지 체크하는 과정이 한 단계 더 필요
  - 이로 인해 작업 버퍼링 불가능
- 유니크 인덱스에서 중복된 값을 체크할 때는 읽기 잠금을 사용하고, 쓰기를 할 때는 쓰기잠금을 사용하는데 이 과정에서 데드락이 빈번히 발생

## 8.9.2 유니크 인덱스 사용시 주의 사항

- 꼭 필요한 경우라면 유니크 인덱스를 생성
- 성능이 더 좋아질 것으로 생각하고 불필요하게 유니크 인덱스를 생성하는 것은 좋지 않음
